<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gemini Speech-to-Text Demo</title>
  <style>
    body { font-family: system-ui, -apple-system, Arial; max-width:720px; margin:24px auto; padding:16px; }
    button { margin-right:8px; padding:8px 12px; }
    #transcript { border:1px solid #ddd; padding:12px; min-height:80px; background:#fafafa; }
    #status { margin-top:8px; color:#666 }
  </style>
</head>
<body>
  <h1>Gemini Speech-to-Text (Demo)</h1>
  <p>Press Record, speak, and press Stop. Live interim transcription uses the browser (if available). The final audio is uploaded to the server and forwarded to Google Speech-to-Text.</p>

  <div>
    <button id="recordBtn">üî¥ Record</button>
    <button id="stopBtn" disabled>‚èπÔ∏è Stop</button>
    <span id="status">Idle</span>
  </div>

  <h3>Live transcript</h3>
  <div id="transcript" aria-live="polite"></div>

  <h3>Server final result</h3>
  <pre id="serverResult" style="background:#f7f7f7;padding:12px;border:1px solid #eee;min-height:80px;white-space:pre-wrap"></pre>

  <h3>AI side comments (live)</h3>
  <div id="aiComments" style="border:1px solid #eee;padding:12px;min-height:60px;background:#fff8e6;color:#333">
    <div id="aiCommentsHeader" style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
      <strong style="font-size:14px">AI comments</strong>
      <span id="aiLoading" style="display:none;color:#b36b00;font-size:13px">AI thinking...</span>
    </div>
    <ul id="aiHistory" style="list-style:none;padding:0;margin:0;max-height:220px;overflow:auto"></ul>
  </div>

  <script src="/js/gemini_stt.js"></script>
</body>
</html>
